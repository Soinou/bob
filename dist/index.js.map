{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"path\"","webpack:///external \"mini-css-extract-plugin\"","webpack:///external \"os\"","webpack:///external \"vue-loader/lib/plugin\"","webpack:///external \"webpack-node-externals\"","webpack:///external \"webpack-bundle-analyzer\"","webpack:///external \"clean-webpack-plugin\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"connect-history-api-fallback\"","webpack:///external \"koa-connect\"","webpack:///external \"uglifyjs-webpack-plugin\"","webpack:///./packages/css.ts","webpack:///./packages/sass.ts","webpack:///./packages/stylus.ts","webpack:///./packages/index.ts","webpack:///./packages/serve.ts","webpack:///./packages/handlebars.ts","webpack:///./packages/pug.ts","webpack:///./packages/typescript.ts","webpack:///./packages/vue.ts","webpack:///./packages/output.ts","webpack:///./packages/clean.ts","webpack:///./packages/html.ts","webpack:///./packages/uglify.ts","webpack:///./packages/analyzer.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__webpack_exports__","bob","packages_Builder","Builder","_","options","target","bobEnv","process","env","BOB_ENV","this","production","parallel","external_os_default","a","cpus","length","serving","WEBPACK_SERVE","argv","find","v","includes","configuration","entry","externals","rules","optimization","noEmitOnErrors","plugins","resolve","alias","serve","port","hmrPort","publicPath","clipboard","content","external_path_default","devMiddleware","index","logLevel","host","hotClient","client","server","https","add","app","middleware","webpack","use","external_koa_connect_default","external_connect_history_api_fallback_default","serve_serve","devtool","entryName","entryPath","map","external","_this","keys","forEach","loaders","_i","arguments","extensions","loader","push","external_mini_css_extract_plugin_","minimize","test","css","sass","stylus","appendTsSuffixTo","experimentalWatchApi","happyPackMode","onlyCompileBundledFiles","reportFiles","silent","transpileOnly","exclude","typescript","plugin_default","output","directory","filename","path","namespace","aliases","clean","external_clean_webpack_plugin_default","root","cwd","verbose","html","template","external_html_webpack_plugin_default","inject","build","external_webpack_node_externals_default","minimizer","external_uglifyjs_webpack_plugin_","cache","external_path_","sourceMap","uglifyOptions","compress","arrows","booleans","collapse_vars","comparisons","computed_props","conditionals","dead_code","evaluate","hoist_funs","hoist_props","hoist_vars","if_return","inline","join_vars","keep_infinity","loops","negate_iife","properties","reduce_funcs","reduce_vars","sequences","side_effects","switches","top_retain","toplevel","typeofs","unused","mangle","comments","runtimeChunk","splitChunks","chunks","pathinfo","external_mini_css_extract_plugin_default","external_webpack_bundle_analyzer_","analyzerHost","openAnalyzer"],"mappings":"2BACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA;;;;;;oFClFAhC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;oFCAAjC,EAAAD,QAAAkC,QAAA;;;;;;;;;;;;;;;mRCEO,oBCAA,oCCAA,YCFPpC,EAAAU,EAAA2B,EAAA,wBAAAC,IA4BA,IAAAC,EAAA,WAgCI,SAAAC,EAAsBC,EAAQC,EAAcC,QAAA,IAAAA,MAAA,OACxC,IAAMC,EAASC,QAAQC,IAAIC,QAE3BC,KAAKL,OAASA,EAEdK,KAAKC,WAAyB,MAAXP,GAAoC,eAAjBA,EAAQnB,MAAqC,eAAXqB,EAExEI,KAAKE,SAAWC,EAAAC,EAAGC,OAAOC,QAAU,EAEpCN,KAAKO,QAC4B,MAA7BV,QAAQC,IAAIU,eAAqF,MAA5DX,QAAQY,KAAKC,KAAK,SAAAC,GAAK,OAAAA,EAAEC,SAAS,wBAE3EZ,KAAKa,eACDC,SACAC,aACAxC,KAAMyB,KAAKC,WAAa,aAAe,cACvC9C,QAAU6D,UACVC,cAAgBC,gBAAgB,GAChCC,WACAC,SAAWC,UACX1B,OAAMA,GAiOlB,OAvNWH,EAAAR,UAAAsC,MAAP,SAAaC,EAAcC,EAAiBC,GAGxC,OAFAzB,KAAKa,cAAcS,MCvFpB,SAAeC,EAAcC,EAAiBC,GACjD,OACIC,WAAW,EACXC,QAASC,EAAAxB,EAAKgB,QAAQ,UACtBS,eACIC,MAAO,qBACPC,SAAU,OACVN,WAAUA,GAEdO,KAAM,UACNC,WACID,MACIE,OAAQ,YACRC,OAAQ,WAEZC,OAAO,EACPb,KAAMC,GAEVD,KAAIA,EAEJc,IAAK,SAACC,EAAUC,EAAiB7C,GAC7B6C,EAAWZ,UACXY,EAAWC,UAEXF,EAAIG,IAAIC,IAAQC,KAAUb,MAAO,2BD+DVc,CAAMrB,EAAMC,EAASC,GAEzCzB,MAOJR,EAAAR,UAAA6D,QAAP,SAAeA,GAOX,OALI7C,KAAKa,cAAcgC,QADA,iBAAZA,EACsBA,EAEAA,EAAQ7C,KAAKC,YAGvCD,MAQJR,EAAAR,UAAA8B,MAAP,SAAagC,EAAmBC,GAO5B,OALI/C,KAAKa,cAAcC,MAAMgC,GADJ,iBAAdC,EAC+BnB,EAAAxB,EAAKgB,QAAQ2B,GAEbA,EAAUC,IAAI,SAAAlC,GAAS,OAAAc,EAAAxB,EAAKgB,QAAQN,KAGvEd,MAQJR,EAAAR,UAAAiE,SAAP,SAAgBtE,EAAaN,GAGzB,OAFA2B,KAAKa,cAAcE,UAAUpC,GAAON,EAE7B2B,MAOJR,EAAAR,UAAA+B,UAAP,SAAiBA,GAAjB,IAAAmC,EAAAlD,KAKI,OAJAlC,OAAOqF,KAAKpC,GAAWqC,QAAQ,SAAAzE,GAC3BuE,EAAKD,SAAStE,EAAKoC,EAAUpC,MAG1BqB,MAOJR,EAAAR,UAAA1B,QAAP,mBAAA4F,EAAAlD,KAAeqD,KAAAC,EAAA,EAAAA,EAAAC,UAAAjD,OAAAgD,IAAAD,EAAAC,GAAAC,UAAAD,GACX,IAAMtC,KACAwC,GAAwB,OA0C9B,OAxCAH,EAAQD,QAAQ,SAAAK,GACZ,OAAQA,GACJ,IAAK,MACDzC,EAAM0C,KH7JP,SAACzD,GAChB,IAAMoD,KAQN,OANIpD,EACAoD,EAAQK,KAAKC,EAAA,QAA+BF,OAAQ,aAAc/D,SAAWkE,UAAU,KAEvFP,EAAQK,KAAK,eAAgB,eAI7BG,KAAM,SACNpB,IAAKY,GGkJkBS,CAAIZ,EAAKjD,aACpBuD,EAAWE,KAAK,QAChB,MACJ,IAAK,aACD1C,EAAM0C,MElKtBD,OAAQ,oBACRI,KAAM,WFkKUL,EAAWE,KAAK,QAChB,MACJ,IAAK,MACD1C,EAAM0C,MGrKlBD,OAAQ,mBACRI,KAAM,WHqKML,EAAWE,KAAK,QAChB,MACJ,IAAK,OACD1C,EAAM0C,KFzKN,SAACzD,GACjB,IAAMoD,KAUN,OARIpD,EACAoD,EAAQK,KAAKC,EAAA,QAA+BF,OAAQ,aAAc/D,SAAWkE,UAAU,KAEvFP,EAAQK,KAAK,eAAgB,cAGjCL,EAAQK,KAAK,gBAGTG,KAAM,aACNpB,IAAKY,GE4JkBU,CAAKb,EAAKjD,aACrBuD,EAAWE,KAAK,QAAS,SACzB,MACJ,IAAK,SACD1C,EAAM0C,KD7KJ,SAACzD,GACnB,IAAMoD,KAUN,OARIpD,EACAoD,EAAQK,KAAKC,EAAA,QAA+BF,OAAQ,aAAc/D,SAAWkE,UAAU,KAEvFP,EAAQK,KAAK,eAAgB,cAGjCL,EAAQK,KAAK,kBAGTG,KAAM,mBACNpB,IAAKY,GCgKkBW,CAAOd,EAAKjD,aACvBuD,EAAWE,KAAK,QAAS,WACzB,MACJ,IAAK,aACD1C,EAAM0C,KInLA,SAACxD,GACvB,IAAMmD,KAmBN,OAjBInD,GACAmD,EAAQK,KAAK,iBAGjBL,EAAQK,MACJD,OAAQ,YACR/D,SACIuE,kBAAmB,UACnBC,sBAAsB,EACtBC,cAAejE,EACfkE,yBAAyB,EACzBC,eACAC,QAAQ,EACRC,eAAe,MAKnBC,QAAS,eACTX,KAAM,UACNpB,IAAKY,GJ4JkBoB,CAAWvB,EAAKhD,WAC3BsD,EAAWE,KAAK,MAAO,QACvB,MACJ,IAAK,MACD1C,EAAM0C,MKrLlBD,OAAQ,aACRI,KAAM,WLqLML,EAAWE,KAAK,QAChBR,EAAK7B,MAAM,OAAQ,0BACnB6B,EAAKrC,cAAcM,QAAQuC,KAAK,IAAIgB,EAAAtE,MAOhDJ,KAAKa,cAAc1D,OAAO6D,MAAQA,EAClChB,KAAKa,cAAcO,QAAQoC,WAAaA,EAEjCxD,MAQJR,EAAAR,UAAA2F,OAAP,SAAcC,EAAmBnD,GAG7B,OAFAzB,KAAKa,cAAc8D,OM3MpB,SAAgBhF,EAAgBM,EAAqB2E,EAAmBnD,GAC3E,MAAe,QAAX9B,GAEIkF,SAAU5E,EAAa,wBAA0B,YACjD6E,KAAMlD,EAAAxB,EAAKgB,QAAQwD,GACnBnD,WAAUA,IAIVoD,SAAU,YACVC,KAAMlD,EAAAxB,EAAKgB,QAAQwD,INiMKD,CAAO3E,KAAKL,OAAQK,KAAKC,WAAY2E,EAAWnD,GAErEzB,MAQJR,EAAAR,UAAA+F,UAAP,SAAiBA,EAAmBH,GAGhC,OAFA5E,KAAKa,cAAcO,QAAQC,MAAM0D,GAAanD,EAAAxB,EAAKgB,QAAQwD,GAEpD5E,MAOJR,EAAAR,UAAAoC,QAAP,SAAewD,GAGX,OAFA5E,KAAKa,cAAcO,QAAQ9D,SAAWsE,EAAAxB,EAAKgB,QAAQ,gBAAiBQ,EAAAxB,EAAKgB,QAAQwD,IAE1E5E,MAQJR,EAAAR,UAAAqC,MAAP,SAAa1C,EAAaN,GAGtB,OAFA2B,KAAKa,cAAcO,QAAQC,MAAM1C,GAAON,EAEjC2B,MAOJR,EAAAR,UAAAgG,QAAP,SAAeA,GAAf,IAAA9B,EAAAlD,KAKI,OAJAlC,OAAOqF,KAAK6B,GAAS5B,QAAQ,SAAAzE,GACzBuE,EAAK7B,MAAM1C,EAAKqG,EAAQrG,MAGrBqB,MAQJR,EAAAR,UAAAiG,MAAP,SAAaL,EAAmBJ,GAG5B,YAH4B,IAAAA,UAC5BxE,KAAKa,cAAcM,QAAQuC,KOjQ5B,SAAekB,EAAmBJ,GACrC,OAAO,IAAIU,EAAA9E,GAAoBwB,EAAAxB,EAAKgB,QAAQwD,KACxCJ,QAAOA,EACPW,KAAMtF,QAAQuF,MACdC,SAAS,IP6PuBJ,CAAML,EAAWJ,IAE1CxE,MAOJR,EAAAR,UAAAsG,KAAP,SAAYC,GAGR,OAFAvF,KAAKa,cAAcM,QAAQuC,KQ3Q5B,SAAcpC,EAAgBiE,GACjC,OAAO,IAAIC,EAAApF,GACPyE,SAAUvD,EAAQ,aAAe,gBACjCmE,QAAQ,EACRF,SAAU3D,EAAAxB,EAAKgB,QAAQmE,KRuQSD,CAAKtF,KAAKO,QAASgF,IAE5CvF,MAMJR,EAAAR,UAAA0G,MAAP,WAyBI,MAxBoB,SAAhB1F,KAAKL,SACLK,KAAKa,cAAcE,WAAa4E,QAGhC3F,KAAKC,aACLD,KAAKa,cAAcI,aAAa2E,WSvRjC,IAAIC,GACPC,MAAOC,EAAA,QAAa,iBACpB7F,UAAU,EACV8F,WAAW,EACXC,eACIC,UACIC,QAAQ,EACRC,UAAU,EACVC,eAAe,EACfC,aAAa,EACbC,gBAAgB,EAChBC,cAAc,EACdC,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,aAAa,EACbC,YAAY,EACZC,WAAW,EACXC,QAAQ,EACRC,WAAW,EACXC,eAAe,EACfC,OAAO,EACPC,aAAa,EACbC,YAAY,EACZC,cAAc,EACdC,aAAa,EACbC,WAAW,EACXC,cAAc,EACdC,UAAU,EACVC,YAAY,EACZC,UAAU,EACVC,SAAS,EACTC,QAAQ,GAEZC,QAAQ,EACRnD,QACIoD,UAAU,OTqPM,QAAhB/H,KAAKL,SACLK,KAAKa,cAAcI,aAAa+G,aAAe,SAC/ChI,KAAKa,cAAcI,aAAagH,aAC5BC,OAAQ,MACRvK,MAAM,IAIdqC,KAAKa,cAAc8D,OAAOwD,UAAW,EAErCnI,KAAKa,cAAcM,QAAQuC,KAAK,IAAI0E,EAAAhI,GAAuByE,SAAU,+BAGrE7E,KAAKO,SACLP,KAAKa,cAAcM,QAAQuC,KUzS5B,IAAI2E,EAAA,sBACPC,aAAc,UACdvG,SAAU,QACVwG,cAAc,KVySPvI,KAAKa,eAEpBrB,EArRA,GA6RO,SAASF,EAAIQ,EAAUJ,EAAcC,GACxC,OAAO,IAAIJ,EAAQO,EAAKJ,EAASC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = require(\"path\");","module.exports = require(\"mini-css-extract-plugin\");","module.exports = require(\"os\");","module.exports = require(\"vue-loader/lib/plugin\");","module.exports = require(\"webpack-node-externals\");","module.exports = require(\"webpack-bundle-analyzer\");","module.exports = require(\"clean-webpack-plugin\");","module.exports = require(\"html-webpack-plugin\");","module.exports = require(\"connect-history-api-fallback\");","module.exports = require(\"koa-connect\");","module.exports = require(\"uglifyjs-webpack-plugin\");","import * as MiniCssExtractPlugin from \"mini-css-extract-plugin\";\n\nexport const css = (production: boolean) => {\n    const loaders = [];\n\n    if (production) {\n        loaders.push(MiniCssExtractPlugin.loader, { loader: \"css-loader\", options: { minimize: true } });\n    } else {\n        loaders.push(\"style-loader\", \"css-loader\");\n    }\n\n    return {\n        test: /\\.css$/,\n        use: loaders,\n    };\n};\n","import * as MiniCssExtractPlugin from \"mini-css-extract-plugin\";\n\nexport const sass = (production: boolean) => {\n    const loaders = [];\n\n    if (production) {\n        loaders.push(MiniCssExtractPlugin.loader, { loader: \"css-loader\", options: { minimize: true } });\n    } else {\n        loaders.push(\"style-loader\", \"css-loader\");\n    }\n\n    loaders.push(\"sass-loader\");\n\n    return {\n        test: /\\.s[ac]ss$/,\n        use: loaders,\n    };\n};\n","import * as MiniCssExtractPlugin from \"mini-css-extract-plugin\";\n\nexport const stylus = (production: boolean) => {\n    const loaders = [];\n\n    if (production) {\n        loaders.push(MiniCssExtractPlugin.loader, { loader: \"css-loader\", options: { minimize: true } });\n    } else {\n        loaders.push(\"style-loader\", \"css-loader\");\n    }\n\n    loaders.push(\"stylus-loader\");\n\n    return {\n        test: /\\.(stylus|styl)$/,\n        use: loaders,\n    };\n};\n","import MiniCssExtractPlugin from \"mini-css-extract-plugin\";\nimport os from \"os\";\nimport path from \"path\";\nimport VueLoaderPlugin from \"vue-loader/lib/plugin\";\nimport nodeExternals from \"webpack-node-externals\";\n\nimport { analyzer } from \"./analyzer\";\nimport { clean } from \"./clean\";\nimport { css } from \"./css\";\nimport { handlebars } from \"./handlebars\";\nimport { html } from \"./html\";\nimport { output } from \"./output\";\nimport { pug } from \"./pug\";\nimport { sass } from \"./sass\";\nimport { serve } from \"./serve\";\nimport { stylus } from \"./stylus\";\nimport { typescript } from \"./typescript\";\nimport { uglify } from \"./uglify\";\nimport { vue } from \"./vue\";\n\n/**\n * The devtool callback\n */\ntype DevtoolCallback = (production: boolean) => string;\n\n/**\n * Bob, the builder\n */\nclass Builder {\n    /**\n     * If we should use parallel options (Basically thread-loader)\n     */\n    public readonly parallel: boolean;\n\n    /**\n     * If the production mode is enabled (Detected through various means)\n     */\n    public readonly production: boolean;\n\n    /**\n     * If the configuration is used for webpack-serve or webpack-dev-server\n     */\n    public readonly serving: boolean;\n\n    /**\n     * The target (node or web)\n     */\n    public readonly target: string;\n\n    /**\n     * The built configuration\n     */\n    private configuration: any;\n\n    /**\n     * Creates a new Builder\n     * @param _ Env options (Not used)\n     * @param options CLI Options (Depends on the CLI used)\n     * @param target Target (web or node)\n     */\n    constructor(/* env */ _: any, options: any, target: \"web\" | \"node\" = \"web\") {\n        const bobEnv = process.env.BOB_ENV;\n\n        this.target = target;\n\n        this.production = (options != null && options.mode === \"production\") || bobEnv === \"production\";\n\n        this.parallel = os.cpus().length >= 2;\n\n        this.serving =\n            process.env.WEBPACK_SERVE != null || process.argv.find(v => v.includes(\"webpack-dev-server\")) != null;\n\n        this.configuration = {\n            entry: {},\n            externals: {},\n            mode: this.production ? \"production\" : \"development\",\n            module: { rules: [] },\n            optimization: { noEmitOnErrors: true },\n            plugins: [],\n            resolve: { alias: {} },\n            target,\n        };\n    }\n\n    /**\n     * Adds webpack-serve ready options\n     * @param port Port for the webpack-serve backend\n     * @param hmrPort Port the the webpack-serve HMR backend (The hot reload websocket)\n     * @param publicPath Public path (Should be the same as the output one)\n     */\n    public serve(port: number, hmrPort: number, publicPath: string) {\n        this.configuration.serve = serve(port, hmrPort, publicPath);\n\n        return this;\n    }\n\n    /**\n     * Changes the source-map output type\n     * @param devtool Devtool to use\n     */\n    public devtool(devtool: string | DevtoolCallback) {\n        if (typeof devtool === \"string\") {\n            this.configuration.devtool = devtool;\n        } else {\n            this.configuration.devtool = devtool(this.production);\n        }\n\n        return this;\n    }\n\n    /**\n     * Adds an entry to the webpack output\n     * @param entryName Entry name\n     * @param entryPath Entry path or paths\n     */\n    public entry(entryName: string, entryPath: string | string[]) {\n        if (typeof entryPath === \"string\") {\n            this.configuration.entry[entryName] = path.resolve(entryPath);\n        } else {\n            this.configuration.entry[entryName] = entryPath.map(entry => path.resolve(entry));\n        }\n\n        return this;\n    }\n\n    /**\n     * Defines an external\n     * @param key External key\n     * @param value External value\n     */\n    public external(key: string, value: string) {\n        this.configuration.externals[key] = value;\n\n        return this;\n    }\n\n    /**\n     * Defines some externals\n     * @param externals String map of externals\n     */\n    public externals(externals: { [key: string]: string }) {\n        Object.keys(externals).forEach(key => {\n            this.external(key, externals[key]);\n        });\n\n        return this;\n    }\n\n    /**\n     * Creates the modules configuration rule\n     * @param loaders Loaders to use\n     */\n    public modules(...loaders: Array<\"css\" | \"handlebars\" | \"pug\" | \"sass\" | \"stylus\" | \"typescript\" | \"vue\">) {\n        const rules: any[] = [];\n        const extensions: string[] = [\".js\"];\n\n        loaders.forEach(loader => {\n            switch (loader) {\n                case \"css\":\n                    rules.push(css(this.production));\n                    extensions.push(\".css\");\n                    break;\n                case \"handlebars\":\n                    rules.push(handlebars());\n                    extensions.push(\".hbs\");\n                    break;\n                case \"pug\":\n                    rules.push(pug());\n                    extensions.push(\".pug\");\n                    break;\n                case \"sass\":\n                    rules.push(sass(this.production));\n                    extensions.push(\".sass\", \".scss\");\n                    break;\n                case \"stylus\":\n                    rules.push(stylus(this.production));\n                    extensions.push(\".styl\", \".stylus\");\n                    break;\n                case \"typescript\":\n                    rules.push(typescript(this.parallel));\n                    extensions.push(\".ts\", \".tsx\");\n                    break;\n                case \"vue\":\n                    rules.push(vue());\n                    extensions.push(\".vue\");\n                    this.alias(\"vue$\", \"vue/dist/vue.common.js\");\n                    this.configuration.plugins.push(new VueLoaderPlugin());\n                    break;\n                default:\n                    break;\n            }\n        });\n\n        this.configuration.module.rules = rules;\n        this.configuration.resolve.extensions = extensions;\n\n        return this;\n    }\n\n    /**\n     * Defines the output rules\n     * @param directory Directory to output to\n     * @param publicPath Public path to use when targeting the web\n     */\n    public output(directory: string, publicPath?: string) {\n        this.configuration.output = output(this.target, this.production, directory, publicPath);\n\n        return this;\n    }\n\n    /**\n     * Optional namespace (Ã  la @angular or @babel)\n     * @param namespace Namespace (Like \"@bob\")\n     * @param directory Directory to use as the alias root (Like \"packages\")\n     */\n    public namespace(namespace: string, directory: string) {\n        this.configuration.resolve.alias[namespace] = path.resolve(directory);\n\n        return this;\n    }\n\n    /**\n     * Defines the resolve rules\n     * @param directory Directory to add alongside the node_modules directory\n     */\n    public resolve(directory: string) {\n        this.configuration.resolve.modules = [path.resolve(\"node_modules\"), path.resolve(directory)];\n\n        return this;\n    }\n\n    /**\n     * Defines an alias\n     * @param key Alias key\n     * @param value Alias value\n     */\n    public alias(key: string, value: string) {\n        this.configuration.resolve.alias[key] = value;\n\n        return this;\n    }\n\n    /**\n     * Defines multiple aliases\n     * @param aliases String map of aliases\n     */\n    public aliases(aliases: { [key: string]: string }) {\n        Object.keys(aliases).forEach(key => {\n            this.alias(key, aliases[key]);\n        });\n\n        return this;\n    }\n\n    /**\n     * Adds a CleanWebpackPlugin to the plugins\n     * @param directory Directory to clean\n     * @param exclude Files to exclude (Optional)\n     */\n    public clean(directory: string, exclude: string[] = []) {\n        this.configuration.plugins.push(clean(directory, exclude));\n\n        return this;\n    }\n\n    /**\n     * Adds an HtmlWebpackPlugin to the plugins\n     * @param template Template file to use\n     */\n    public html(template: string) {\n        this.configuration.plugins.push(html(this.serving, template));\n\n        return this;\n    }\n\n    /**\n     * Builds the configuration\n     */\n    public build() {\n        if (this.target === \"node\") {\n            this.configuration.externals = [nodeExternals()];\n        }\n\n        if (this.production) {\n            this.configuration.optimization.minimizer = [uglify()];\n\n            if (this.target === \"web\") {\n                this.configuration.optimization.runtimeChunk = \"single\";\n                this.configuration.optimization.splitChunks = {\n                    chunks: \"all\",\n                    name: true,\n                };\n            }\n\n            this.configuration.output.pathinfo = true;\n\n            this.configuration.plugins.push(new MiniCssExtractPlugin({ filename: \"styles.[contenthash].css\" }));\n        }\n\n        if (this.serving) {\n            this.configuration.plugins.push(analyzer());\n        }\n\n        return this.configuration;\n    }\n}\n\n/**\n * Convenience function\n * @param env Env of the webpack CLI\n * @param options Options of the webpack CLI\n * @param target Target\n */\nexport function bob(env: any, options: any, target: \"node\" | \"web\") {\n    return new Builder(env, options, target);\n}\n","import history from \"connect-history-api-fallback\";\nimport convert from \"koa-connect\";\nimport path from \"path\";\n\nexport function serve(port: number, hmrPort: number, publicPath: string) {\n    return {\n        clipboard: false,\n        content: path.resolve(\"public\"),\n        devMiddleware: {\n            index: \"/assets/index.html\",\n            logLevel: \"warn\",\n            publicPath,\n        },\n        host: \"0.0.0.0\",\n        hotClient: {\n            host: {\n                client: \"127.0.0.1\",\n                server: \"0.0.0.0\",\n            },\n            https: false,\n            port: hmrPort,\n        },\n        port,\n\n        add: (app: any, middleware: any, options: any) => {\n            middleware.content();\n            middleware.webpack();\n\n            app.use(convert(history({ index: \"/assets/index.html\" })));\n        },\n    };\n}\n","export const handlebars = () => ({\n    loader: \"handlebars-loader\",\n    test: /\\.hbs$/,\n});\n","export function pug() {\n    return {\n        loader: \"pug-plain-loader\",\n        test: /\\.pug$/,\n    };\n}\n","export const typescript = (parallel: boolean) => {\n    const loaders = [];\n\n    if (parallel) {\n        loaders.push(\"thread-loader\");\n    }\n\n    loaders.push({\n        loader: \"ts-loader\",\n        options: {\n            appendTsSuffixTo: [/\\.vue$/],\n            experimentalWatchApi: true,\n            happyPackMode: parallel,\n            onlyCompileBundledFiles: true,\n            reportFiles: [],\n            silent: true,\n            transpileOnly: true,\n        },\n    });\n\n    return {\n        exclude: /node_modules/,\n        test: /\\.tsx?$/,\n        use: loaders,\n    };\n};\n","export function vue() {\n    return {\n        loader: \"vue-loader\",\n        test: /\\.vue$/,\n    };\n}\n","import path from \"path\";\n\nexport function output(target: string, production: boolean, directory: string, publicPath?: string) {\n    if (target === \"web\") {\n        return {\n            filename: production ? \"[name].[chunkhash].js\" : \"[name].js\",\n            path: path.resolve(directory),\n            publicPath,\n        };\n    } else {\n        return {\n            filename: \"[name].js\",\n            path: path.resolve(directory),\n        };\n    }\n}\n","import CleanWebpackPlugin from \"clean-webpack-plugin\";\nimport path from \"path\";\n\nexport function clean(directory: string, exclude: string[]) {\n    return new CleanWebpackPlugin([path.resolve(directory)], {\n        exclude,\n        root: process.cwd(),\n        verbose: false,\n    });\n}\n","import HtmlWebpackPlugin from \"html-webpack-plugin\";\nimport path from \"path\";\n\nexport function html(serve: boolean, template: string) {\n    return new HtmlWebpackPlugin({\n        filename: serve ? \"index.html\" : \"../index.html\",\n        inject: true,\n        template: path.resolve(template),\n    });\n}\n","import * as path from \"path\";\nimport * as UglifyJs from \"uglifyjs-webpack-plugin\";\nimport * as webpack from \"webpack\";\n\nexport function uglify(): webpack.Plugin {\n    return new UglifyJs({\n        cache: path.resolve(\".cache/uglify\"),\n        parallel: true,\n        sourceMap: true,\n        uglifyOptions: {\n            compress: {\n                arrows: false,\n                booleans: false,\n                collapse_vars: false,\n                comparisons: false,\n                computed_props: false,\n                conditionals: true,\n                dead_code: true,\n                evaluate: true,\n                hoist_funs: false,\n                hoist_props: false,\n                hoist_vars: false,\n                if_return: false,\n                inline: false,\n                join_vars: false,\n                keep_infinity: true,\n                loops: false,\n                negate_iife: false,\n                properties: false,\n                reduce_funcs: false,\n                reduce_vars: false,\n                sequences: false,\n                side_effects: false,\n                switches: false,\n                top_retain: false,\n                toplevel: false,\n                typeofs: false,\n                unused: false,\n            },\n            mangle: true,\n            output: {\n                comments: false,\n            },\n        },\n    }) as any;\n}\n","import { BundleAnalyzerPlugin } from \"webpack-bundle-analyzer\";\n\nexport function analyzer() {\n    return new BundleAnalyzerPlugin({\n        analyzerHost: \"0.0.0.0\",\n        logLevel: \"error\",\n        openAnalyzer: false,\n    });\n}\n"],"sourceRoot":""}